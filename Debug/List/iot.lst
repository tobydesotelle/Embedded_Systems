###############################################################################
#
# IAR C/C++ Compiler V7.21.1.1000/W32 for MSP430          15/Nov/2022  23:16:34
# Copyright 1996-2021 IAR Systems AB.
# PC-locked license - IAR Embedded Workbench for MSP430, 8K KickStart Edition 7.21
#
#    __rt_version  =  3
#    __double_size =  32
#    __reg_r4      =  free
#    __reg_r5      =  free
#    __pic         =  no
#    __core        =  430X
#    __data_model  =  small
#    __code_model  =  large
#    Source file   =  
#        C:\Users\Tobias Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\iot.c
#    Command line  =  
#        -f C:\Users\TOBIAS~1\AppData\Local\Temp\EW4FAA.tmp ("C:\Users\Tobias
#        Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\iot.c" -lC
#        "C:\Users\Tobias Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\Debug\List" -o
#        "C:\Users\Tobias Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\Debug\Obj" --debug
#        -D__MSP430FR2355__ -e --double=32 --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench 8.5\430\lib\dlib\dl430xlsfn.h" -I
#        ./ --core=430X --data_model=small -Ohs --multiplier=32
#        --hw_workaround=CPU40 --code_model=large)
#    Locale        =  English_USA.1252
#    List file     =  
#        C:\Users\Tobias Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\Debug\List\iot.lst
#    Object file   =  
#        C:\Users\Tobias Desotelle\OneDrive - UNC
#        Asheville\Documents\GitHub\Embedded_Systems\Debug\Obj\iot.r43
#
###############################################################################

C:\Users\Tobias Desotelle\OneDrive - UNC Asheville\Documents\GitHub\Embedded_Systems\iot.c
      1          #include "macros.h"
      2          extern volatile unsigned short serial_bits;
      3          
      4          #define System_Store0	 ("AT+SYSSTORE=0\r\n")
      5          #define CIPMUX1		 ("AT+CIPMUX=1\r\n")
      6          #define CIPSERVER1	 ("AT+CIPSERVER=1,4200\r\n")
      7          #define Find_IP		 ("AT+CIFSR\r\n")
      8          
      9          #define OK		("OK\r\n")
     10          #define IP_found	("WIFI GOT IP\r\n")

   \                                 In  segment DATA16_Z, align 1, align-sorted
   \   000000                REQUIRE ?cstart_init_zero
     11          char IOT_state=0;
   \                     IOT_state:
   \   000000                DS8 1

   \                                 In  segment DATA16_Z, align 1, align-sorted
   \   000000                REQUIRE ?cstart_init_zero
     12          char IOT_state_mem;
   \                     IOT_state_mem:
   \   000000                DS8 1

   \                                 In  segment CODE, align 2
     13          void iot_wifi_connect(){
   \                     iot_wifi_connect:
     14            if(serial_bits & Send_next_command){
   \   000000   B2B00008.... BIT.W   #0x800, &serial_bits
   \   000006   0524         JEQ     ??iot_wifi_connect_0
     15              IOT_state++;
   \   000008   D253....     ADD.B   #0x1, &IOT_state
     16              serial_bits &= ~Send_next_command;
   \   00000C   B2C00008.... BIC.W   #0x800, &serial_bits
     17            }
     18            switch(IOT_state){
   \                     ??iot_wifi_connect_0:
   \   000012   5E42....     MOV.B   &IOT_state, R14
   \   000016   4E83         SUB.B   #0x0, R14
   \   000018   1124         JEQ     ??iot_wifi_connect_2
   \   00001A   5E83         SUB.B   #0x1, R14
   \   00001C   1324         JEQ     ??iot_wifi_connect_3
   \   00001E   5E83         SUB.B   #0x1, R14
   \   000020   2124         JEQ     ??iot_wifi_connect_4
   \   000022   5E83         SUB.B   #0x1, R14
   \   000024   1324         JEQ     ??iot_wifi_connect_5
   \   000026   5E83         SUB.B   #0x1, R14
   \   000028   1D24         JEQ     ??iot_wifi_connect_4
   \   00002A   5E83         SUB.B   #0x1, R14
   \   00002C   1724         JEQ     ??iot_wifi_connect_6
   \   00002E   5E83         SUB.B   #0x1, R14
   \   000030   1924         JEQ     ??iot_wifi_connect_4
   \   000032   5E83         SUB.B   #0x1, R14
   \   000034   1B24         JEQ     ??iot_wifi_connect_7
   \   000036   5E83         SUB.B   #0x1, R14
   \   000038   1D24         JEQ     ??iot_wifi_connect_8
   \   00003A   1001         RETA
     19            case 0://add timerfor timing out finding
     20              process_buffer_0(IP_found);
   \                     ??iot_wifi_connect_2:
   \   00003C   3C40....     MOV.W   #`?<Constant "WIFI GOT IP\\r\\n">`, R12
   \   000040   ........     BRA     #process_buffer_0
     21              break;
     22            case 1:
     23              send(System_Store0,Send_UCA0);
   \                     ??iot_wifi_connect_3:
   \   000044   4D43         MOV.B   #0x0, R13
   \   000046   3C40....     MOV.W   #`?<Constant "AT+SYSSTORE=0\\r\\n">`, R12
   \   00004A   033C         JMP     ??iot_wifi_connect_1
     24              IOT_state++;
     25              break;
     26            case 2://check for okay process
     27              process_buffer_0(OK);
     28              break;
     29            case 3:
     30              send(CIPMUX1,Send_UCA0);
   \                     ??iot_wifi_connect_5:
   \   00004C   4D43         MOV.B   #0x0, R13
   \   00004E   3C40....     MOV.W   #`?<Constant "AT+CIPMUX=1\\r\\n">`, R12
   \                     ??iot_wifi_connect_1:
   \   000052   ........     CALLA   #send
     31              IOT_state++;
   \   000056   D253....     ADD.B   #0x1, &IOT_state
     32              break;
   \   00005A   1001         RETA
     33            case 4:
     34              process_buffer_0(OK);
     35              break;
     36            case 5:
     37              send(CIPSERVER1,Send_UCA0);
   \                     ??iot_wifi_connect_6:
   \   00005C   4D43         MOV.B   #0x0, R13
   \   00005E   3C40....     MOV.W   #`?<Constant "AT+CIPSERVER=1,4200\\r\\n">`, R12
   \   000062   F73F         JMP     ??iot_wifi_connect_1
     38              IOT_state++;
     39              break;
     40              case 6:
     41              process_buffer_0(OK);
   \                     ??iot_wifi_connect_4:
   \   000064   3C40....     MOV.W   #`?<Constant "OK\\r\\n">`, R12
   \   000068   ........     BRA     #process_buffer_0
     42              break;
     43              case 7:
     44              send(Find_IP,Send_UCA0);
   \                     ??iot_wifi_connect_7:
   \   00006C   4D43         MOV.B   #0x0, R13
   \   00006E   3C40....     MOV.W   #`?<Constant "AT+CIFSR\\r\\n">`, R12
   \   000072   EF3F         JMP     ??iot_wifi_connect_1
     45              IOT_state++;
     46              break;
     47            case 8:
     48              get_IP();
   \                     ??iot_wifi_connect_8:
   \   000074   ........     BRA     #get_IP
     49              break;
     50            }
     51            
     52          }

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "WIFI GOT IP\\r\\n">`:
   \   000000   574946492047 DC8 "WIFI GOT IP\015\012"
   \            4F542049500D
   \            0A00        

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "AT+SYSSTORE=0\\r\\n">`:
   \   000000   41542B535953 DC8 "AT+SYSSTORE=0\015\012"
   \            53544F52453D
   \            300D0A00    

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "OK\\r\\n">`:
   \   000000   4F4B0D0A00   DC8 "OK\015\012"

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "AT+CIPMUX=1\\r\\n">`:
   \   000000   41542B434950 DC8 "AT+CIPMUX=1\015\012"
   \            4D55583D310D
   \            0A00        

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "AT+CIPSERVER=1,4200\\r\\n">`:
   \   000000   41542B434950 DC8 "AT+CIPSERVER=1,4200\015\012"
   \            534552564552
   \            3D312C343230
   \            300D0A00    

   \                                 In  segment DATA16_C, align 1, align-sorted
   \                     `?<Constant "AT+CIFSR\\r\\n">`:
   \   000000   41542B434946 DC8 "AT+CIFSR\015\012"
   \            53520D0A00  

   Maximum stack usage in bytes:

   CSTACK Function
   ------ --------
      4   iot_wifi_connect
        0   -> get_IP
        0   -> process_buffer_0
        4   -> send


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      11  ?<Constant "AT+CIFSR\r\n">
      14  ?<Constant "AT+CIPMUX=1\r\n">
      22  ?<Constant "AT+CIPSERVER=1,4200\r\n">
      16  ?<Constant "AT+SYSSTORE=0\r\n">
       5  ?<Constant "OK\r\n">
      14  ?<Constant "WIFI GOT IP\r\n">
       1  IOT_state
       1  IOT_state_mem
     120  iot_wifi_connect

 
 120 bytes in segment CODE
  82 bytes in segment DATA16_C
   2 bytes in segment DATA16_Z
 
 120 bytes of CODE  memory
  82 bytes of CONST memory
   2 bytes of DATA  memory

Errors: none
Warnings: none
